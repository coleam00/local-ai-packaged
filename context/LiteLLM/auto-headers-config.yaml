# auto-headers-config.yaml
# LiteLLM Configuration with NATIVE GitHub Header Injection
# 
# 
# FINAL WORKING VERSION: This config uses LiteLLM's native litellm_params
# to inject headers, which is the correct and reliable method.
#
# The middleware/callback approach has been removed as it was unreliable.
#
# Usage:
#   litellm --config auto-headers-config.yaml --port 4000
#
# Test (NO extra_headers needed!):
#   curl -X POST http://localhost:4000/chat/completions \
#     -H "Content-Type: application/json" \
#     -H "Authorization: Bearer sk-auto-headers-2025" \
#     -d '{"model": "gpt-4o", "messages": [{"role": "user", "content": "Test!"}]}'

model_list:
  - model_name: claude-3.5-sonnet
    litellm_params:
      model: github_copilot/claude-3.5-sonnet
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: claude-3.7-sonnet
    litellm_params:
      model: github_copilot/claude-3.7-sonnet
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: claude-3.7-sonnet-thought
    litellm_params:
      model: github_copilot/claude-3.7-sonnet-thought
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: claude-sonnet-4
    litellm_params:
      model: github_copilot/claude-sonnet-4
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: claude-sonnet-4.5
    litellm_params:
      model: github_copilot/claude-sonnet-4.5
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gemini-2.0-flash-001
    litellm_params:
      model: github_copilot/gemini-2.0-flash-001
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gemini-2.5-pro
    litellm_params:
      model: github_copilot/gemini-2.5-pro
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-3.5-turbo
    litellm_params:
      model: github_copilot/gpt-3.5-turbo
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-3.5-turbo-0613
    litellm_params:
      model: github_copilot/gpt-3.5-turbo-0613
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-5
    litellm_params:
      model: github_copilot/gpt-5
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-5-mini
    litellm_params:
      model: github_copilot/gpt-5-mini
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4
    litellm_params:
      model: github_copilot/gpt-4
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4-0613
    litellm_params:
      model: github_copilot/gpt-4-0613
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4-o-preview
    litellm_params:
      model: github_copilot/gpt-4-o-preview
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4.1
    litellm_params:
      model: github_copilot/gpt-4.1
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4.1-2025-04-14
    litellm_params:
      model: github_copilot/gpt-4.1-2025-04-14
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o
    litellm_params:
      model: github_copilot/gpt-4o
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o-2024-05-13
    litellm_params:
      model: github_copilot/gpt-4o-2024-05-13
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o-2024-08-06
    litellm_params:
      model: github_copilot/gpt-4o-2024-08-06
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o-2024-11-20
    litellm_params:
      model: github_copilot/gpt-4o-2024-11-20
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o-mini
    litellm_params:
      model: github_copilot/gpt-4o-mini
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: gpt-4o-mini-2024-07-18
    litellm_params:
      model: github_copilot/gpt-4o-mini-2024-07-18
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: o3-mini
    litellm_params:
      model: github_copilot/o3-mini
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: o3-mini-2025-01-31
    litellm_params:
      model: github_copilot/o3-mini-2025-01-31
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: o3-mini-paygo
    litellm_params:
      model: github_copilot/o3-mini-paygo
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: text-embedding-3-small
    litellm_params:
      model: github_copilot/text-embedding-3-small
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: text-embedding-3-small-inference
    litellm_params:
      model: github_copilot/text-embedding-3-small-inference
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: text-embedding-ada-002
    litellm_params:
      model: github_copilot/text-embedding-ada-002
      extra_headers:
        editor-version: vscode/1.96.0
        editor-plugin-version: copilot/1.155.0
        copilot-integration-id: vscode-chat
        user-agent: GitHubCopilot/1.155.0
  - model_name: llama-3-1-405b
    litellm_params:
      model: github/Llama-3.1-405B-Instruct
      api_key: os.environ/GITHUB_API_KEY
  - model_name: phi-4
    litellm_params:
      model: github/Phi-4
      api_key: os.environ/GITHUB_API_KEY
  - model_name: "gemini-1.5-pro"
    litellm_params:
      model: "gemini/gemini-1.5-pro-latest"
      api_key: "os.environ/GOOGLE_API_KEY"
  - model_name: "gemini-1.5-flash"
    litellm_params:
      model: "gemini/gemini-1.5-flash-latest"
      api_key: "os.environ/GOOGLE_API_KEY"
  - model_name: "gemini-pro"
    litellm_params:
      model: "gemini/gemini-pro"
      api_key: "os.environ/GOOGLE_API_KEY"
  - model_name: "gemini-pro-vision"
    litellm_params:
      model: "gemini/gemini-pro-vision"
      api_key: "os.environ/GOOGLE_API_KEY"

general_settings:
  master_key: sk-auto-headers-2025
  database_connection_pool_limit: 100
  database_connection_timeout: 60

litellm_settings:
  ssl_verify: false  # ou true com certificado personalizado
  # Enable verbose logging to see header injection in action
  request_timeout: 600
  set_verbose: true
  num_retries: 3
  
  # Drop unused parameters for cleaner requests
  drop_params: true

router_settings:
  timeout: 300

# Cost tracking and optimization
cost_tracking:
  enabled: true
  github_copilot_subscription: true
  github_marketplace_usage: true

# Fallback strategies (optional)
fallbacks:
  - [gpt-4o, gpt-4-turbo, gpt-4o-mini]
  - [claude-3-5-sonnet, claude-3-5-sonnet-latest, claude-3-5-haiku]
  - [o1-preview, o1-mini, o3-mini]
  - [gemini-2-0-flash-exp, gemini-1-5-pro, gemini-1-5-flash]
  - [llama-3-1-405b, phi-4]
