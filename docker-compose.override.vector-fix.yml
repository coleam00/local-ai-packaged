# Fix for Windows Docker Desktop bug where bind-mounted files appear as directories
# This override mounts a directory instead of a file, which works better on Windows
# Path is relative to first compose file (supabase/docker/), so ../../ = project root

services:
  vector:
    # Mount our vector-config directory to /etc/vector
    # This shadows the original file mount at /etc/vector/vector.yml
    volumes:
      - ../../vector-config:/etc/vector:ro
      - ${DOCKER_SOCKET_LOCATION}:/var/run/docker.sock:ro,z
